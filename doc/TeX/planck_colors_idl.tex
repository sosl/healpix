% -*- LaTeX -*-

\sloppy

\title{\healpix IDL Facility User Guidelines}
\docid{planck\_colors} \section[planck\_colors]{ }
\label{idl:planck_colors}
\docrv{Version 1.0}
\author{Eric Hivon}
\abstract{This document describes the \healpix IDL facility \thedocid.}

\begin{facility}
{This IDL facility provides RGB color tables suitable for visualization of
sky maps dominated by CMB or featuring foreground, and modify current color
table. 
Those color tables can then be implemented in 
\htmlref{cartview}{idl:cartview},
\htmlref{gnomview}{idl:gnomview},
\htmlref{mollview}{idl:mollview} or
\htmlref{orthview}{idl:orthview} and were used in Planck 2013 publications%
}
{src/idl/visu/planck\_colors.pro}
\end{facility}

\begin{IDLformat}
{PLANCK\_COLORS, 
\mylink{idl:planck_colors:option}{option}, [%
\mylink{idl:planck_colors:get}{GET=rgb},
\mylink{idl:planck_colors:help}{/HELP},
\mylink{idl:planck_colors:show}{/SHOW}]}
\end{IDLformat}

\begin{qualifiers}
  \begin{qulist}{} %%%% NOTE the ``extra'' brace here %%%%
   \item[option] \mytarget{idl:planck_colors:option} required input for color
table generation, must be either 1 or 2: \\
1: creates the 'parchment' Blue-red color table suitable for  maps
         dominated by Gaussian signal (eg, CMB)\\
2: creates a Blue-red-white color table suitable for maps with 
         high dynamic signal (eg, Galactic foreground)
  \end{qulist}
\end{qualifiers}

\begin{keywords}
  \begin{kwlist}{} %%% extra brace
 \item[GET=rgb] \mytarget{idl:planck_colors:get} optional ouput, contains the newly created RGB color table
     in a [256, 3] array

 \item[/HELP]      \mytarget{idl:planck_colors:help} if set, prints extended help

 \item[/SHOW]      \mytarget{idl:planck_colors:show} if set, the chosen color
table is shown in a new window

  \end{kwlist}
\end{keywords}  

\begin{codedescription}
{\thedocid\ creates a set of RGB color tables suitable for specific purpose, and
modify the current IDL color table accordingly (using TVLCT). See below the example
applications. The created color table can also be output as a 256*3 array, or
shown in a new window}
\end{codedescription}

%\newpage

\begin{related}
  \begin{sulist}{} %%%% NOTE the ``extra'' brace here %%%%
    \item[idl] version \idlversion or more is necessary to run \thedocid.
    \item[\htmlref{cartview}{idl:cartview}, \htmlref{gnomview}{idl:gnomview}]
    \item[\htmlref{mollview}{idl:mollview}, \htmlref{orthview}{idl:orthview}] 
visualization routines that can make use of the color tables created in
\thedocid\  (via keyword \mylink{idl:mollview:colt}{\tt colt})
    \item[loadct] IDL routine to set current color table to one of the
predefined IDL color tables (thus reverting the effect of \thedocid).
  \end{sulist}
\end{related}

%----------------------------------------------------------------------------
\begin{examples}
{1}
{
\begin{tabular}{l} %%%% use this tabular format %%%%
 \thedocid, 1, /show \\
 \thedocid, 2, /show \\
\end{tabular}
}
{Create and show the two color tables (see Fig.~\ref{fig:planck_colors1} on page~\pageref{page:planck_colors1})}
\end{examples}
%
\begin{figure}[h!]
\latexhtml{%for latex
\centerline{\includegraphics[width=0.99\textwidth]{fig/planck_colors1}}
\vskip 0.1cm
\centerline{\includegraphics[width=0.99\textwidth]{fig/planck_colors2}}
}{%for html
\centerline{\includegraphics[width=520pt]{fig/planck_colors1}{}}%rescaled for JPL web site -> ~720
\centerline{\includegraphics[width=520pt]{fig/planck_colors2}{}}%rescaled for JPL web site -> ~720
}
\caption{%
\label{page:planck_colors1}%
\label{fig:planck_colors1}%
Illustration (generated by example~\#1) of the color tables created by \thedocid.}
\end{figure}

%----------------------------------------------------------------------------
\newpage
\begin{examples}
{2}
{
\begin{tabular}{l} %%%% use this tabular format %%%%
 \thedocid, 2 \\
 \htmlref{mollview}{idl:mollview},
'\htmladdnormallink{HFI\_SkyMap\_217\_2048\_R1.10\_nominal.fits}%
{http://pla.esac.esa.int/pla/aio/planckProducts.html}', \$ \\
$\quad\quad$ \mylink{idl:mollview:colt}{colt}=256,
\mylink{idl:mollview:asinh}{asinh}=2, 
\mylink{idl:mollview:factor}{factor}=1.e6,
\mylink{idl:mollview:offset}{offset}=-1.33e-4,  \$ \\
$\quad\quad$ \mylink{idl:mollview:min}{min}=-1.e3,
\mylink{idl:mollview:max}{max}=1.e7,
\mylink{idl:mollview:title}{title}='Planck @ 217GHz',
\mylink{idl:mollview:charsize}{charsize}=2
\\
\end{tabular}
}
{Illustrates the application of the second color table created by \thedocid\  to the
visualization of Planck data at 217GHz (see Fig.~\ref{fig:planck_colors_217} on page~\pageref{page:planck_colors_217})}
\end{examples}
%
\begin{figure}[h!]
\latexhtml{%for latex
\centerline{\includegraphics[width=0.99\textwidth]{fig/planck_colors_217}}
}{%for html
\centerline{\includegraphics[width=520pt]{fig/planck_colors_217}{}}%rescaled for JPL web site -> ~720
}
\caption{%
\label{page:planck_colors_217}%
\label{fig:planck_colors_217}%
Illustration (generated by example~\#2) of the application of \thedocid\  to a Planck
sky map.}
\end{figure}
